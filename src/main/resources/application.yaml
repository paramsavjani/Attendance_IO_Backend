server:
  port: 8081
  servlet:
    session:
      timeout: 30d

app:
  frontend:
    url: ${FRONTEND_URL:http://localhost:8080}
  classes:
    start-date: ${CLASSES_START_DATE:2025-12-18} # Format: yyyy-MM-dd (e.g., 2025-01-01)
    end-date: ${CLASSES_END_DATE:2026-04-30} # Format: yyyy-MM-dd (e.g., 2026-04-30) - Semester/lecture end date
  auth-debug: ${AUTH_DEBUG:false}

firebase:
  service-account:
    path: ${FIREBASE_SERVICE_ACCOUNT_PATH:attendance-io-param-firebase-adminsdk-fbsvc-e6420e1501.json} # Path to Firebase service account JSON file (relative to project root)

spring:
  application:
    name: attendance-io-backend
  datasource:
    url: jdbc:postgresql://aws-1-ap-south-1.pooler.supabase.com:5432/postgres?user=postgres.dlhlwiluylwkatexlhvq&password=parampbr**
    username: postgres.dlhlwiluylwkatexlhvq
    password: parampbr**
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: 891680019120-o01pknut12o14mo3dvsupis6t3ogbjs8.apps.googleusercontent.com
            client-secret: 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
            scope:
              - email
              - profile
        provider:
          google:
            authorization-uri: https://accounts.google.com/o/oauth2/auth
            token-uri: https://oauth2.googleapis.com/token
            user-info-uri: https://www.googleapis.com/oauth2/v3/userinfo
            user-name-attribute: sub
  session:
    timeout: 30d
    cookie:
      name: JSESSIONID
      http-only: true # Prevent XSS attacks
      secure: false # Set to true in production with HTTPS
      same-site: lax # Local dev: localhost frontend/backend are same-site (ports don't matter)
      max-age: 30d

# Logging (set env vars to DEBUG when diagnosing auth issues)
logging:
  level:
    root: ${LOG_LEVEL_ROOT:INFO}
    com.attendanceio: ${LOG_LEVEL_APP:DEBUG}
    org.springframework.security: ${LOG_LEVEL_SECURITY:INFO}
    org.springframework.security.oauth2: ${LOG_LEVEL_OAUTH2:INFO}